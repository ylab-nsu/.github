# Развитие инструментов для учебных процессоров [CdM](https://github.com/cdm-processors)

CdM-16 — это учебный процессор, который используется на курсе “Цифровые платформы” КНиС ФИТ НГУ. За последние несколько лет силами студентов и преподавателей НГУ были разработаны реализации процессора в виде логической схемы и программного эмулятора, а также набор инструментов, включающий в себя ассемблер, компоновщик, дизассемблер, расширение для VS Code. Также, в настоящее время ведётся разработка компилятора языка Си на базе clang/LLVM.
Представленные ниже проекты направлены на улучшение и развитие инфраструктуры проекта.

## Доработка компилятора и линкера

Компиляция программ на языке Си для CdM-16 реализована следующим образом — сначала clang компилирует исходную программу и генерирует программу на языке ассемблера, затем полученный файл ассемблируется и компонуется с помощью cocas. На данный момент существует несколько основных проблем:
поддерживается только фон-Неймановская организация памяти;
нет возможности отлаживать программу на Си (только ассемблер);
компилятор не поддерживает некоторые важные аспекты языка Си.

В рамках данного проекта предлагается доработать ассемблер, компоновщик (Python) и компилятор языка Си (C++/LLVM) для решения данных проблем.
Результатом проекта является решение одной из предложенных проблем, например, демонстрация отладки программы на языке Си.

## Разработка языкового сервера для ассемблера CdM <span style="color:red">(Тема забронирована под ВКР)</span>

Языковой сервер — это программа, которая общается со средой разработки или текстовым редактором по специальному протоколу (LSP) и реализует некоторые функции для конкретного языка, например: подсветка синтаксиса, подсказки и автодополнение, рефакторинг, индикация ошибок и предупреждений.
В рамках этого проекта предполагается реализация такого сервера для языка ассемблера CdM на языке Python с использованием модулей парсинга из cocas. Это повысит удобство разработки программ, а также потенциально позволит использовать другие текстовые редакторы для работы с данным типом файлов.
Результатом этого проекта в рамках Bootcamp 2025 является прототип языкового сервера, реализующий некоторые из предложенных функций. Далее, в рамках ПАК, программа может быть дополнена новым функционалом и в результате может быть включена в комплект поставки инструментов для разработки.

## Разработка расширений архитектуры CdM-16 (Исслед.)

Несмотря на то, что набор инструкций CdM-16 довольно разнообразен, в нём нет многих привычных команд, например, умножения и деления. Проект предполагает разработку расширения архитектуры CdM-16, реализующего новый функционал. Примерами такого расширения могут служить:
математический сопроцессор;
инструкции push/pop с несколькими регистрами;
инструкции доступа к памяти предыдущего процесса.

Результатом проекта является спецификация разработанного расширения, а также прототип его реализации.

## Реализация HDL модели CdM-16/e и модулей компьютера (Исслед.)

Одним из направлений развития проекта является запуск системы на базе CdM-16 на некоторой аппаратной платформе, например FPGA. Первым шагом к этой цели является разработка HDL описаний необходимого оборудования и их верификация.
В рамках проекта предполагается реализация и верификация некоторого оборудования на языке Verilog/SystemVerilog, а также реализация прототипа вычислительной системы на базе разработанных компонентов. Примерами компонентов для разработки являются: 
CdM-16e на основе существующей модели CdM-16;
сегментный диспетчер памяти;
контроллер кэша.

Результатом проекта являются HDL описания разработанных модулей, а также необходимая документация.

## Конвейеризация микроархитектуры CdM-16 (Исслед. / Космической сложности)

Текущая реализация CdM-16 исполняет инструкции по очереди и строго последовательно. Такой подход имеет как положительные, так и отрицательные стороны. Одной из главных проблем этого подхода является низкая максимальная тактовая частота процессора, ограниченная сверху высокими задержками распространения сигналов вследствие длинных критических путей, неизбежно образующихся при использовании такого подхода. Конвейеризация схемы позволяет уменьшить длину критических путей и увеличить максимальную тактовую частоту. Более того, конвейерный подход позволяет процессору выполнять несколько инструкций одновременно. 
В рамках данного проекта предлагается исследовать возможность и целесообразность разработки реализации CdM-16, использующей конвейер.
Результатом проекта является документ, описывающий полученные результаты, а также минимальный прототип такой реализации.
